## 自动化脚本简介
该脚本可以帮助用户分批进行 刷新/预热 任务，替代用户原来手动分批次提交的繁琐操作；用户指定 刷新/预热 URL 列表文件后，脚本按照用户指定的并发 刷新/预热 数量对 URL 列表文件进行切割，分批进行 刷新/预热。任务运行后会进行自动判断，等待上一个任务完成后才能进行下一批刷新任务的操作；
#### 可以帮助用户解决以下问题：
* 部分用户端无开发人员，运维成本高；
* 客户每次对文件分批提交刷新效率低，并不是适合需要自动化；
* 同步任务可以确保每一次任务执行完成；

## 环境要求：

* 1、先要按照 CDN  SDK 模块：pip install aliyun-python-sdk-cdn，目前使用是 v20180510 版本
* 2、再安装阿里云核心 SDK 模块：pip install aliyun-java-sdk-core，目前使用是 v20180510 版本
* 3、在 linux 或者 windows python 2.75 以上的环境运行；
* 4、安装成功后，脚本帮助参数 python $scripte -h

```
script options explain:             
	 -i <AccessKey>       访问阿里云凭证，访问控制台上可以获得；             
	 -k <AccessKeySecret> 访问阿里云秘钥，访问控制台上可以获得；             
	 -r <filename>        文件名称，每行一条 URL，有特殊字符先做 URLencode，以 http/https 开头；             
	 -t <taskType>        任务类型 clear 刷新，push 预热；             
	 -n [nums,[..100]]    可选项，每次操作文件数量，做多 100 条；
```

## 运行效果
```
python Refresh.py -i LTAIK70YPB -k pk1Dxc5r0lRFF6j -r /root/autoMatic/test.lst -t clear
{u'RefreshTaskId': u'8211135448', u'RequestId': u'093602B9-6192-4137-8CCA-0D8C85729DF6'}
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
[8211135448]is doing... ...
{u'RefreshTaskId': u'8211136701', u'RequestId': u'C1896DDD-003B-41F9-B481-93BC509ED5A3'}
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
[8211136701]is doing... ...
```
